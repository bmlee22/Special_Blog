{
  "hash": "1fb616da9c5fb36b31be856fa2808292",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"2-6 Blog, National Parks\"\nauthor: \"Ben Lee\"\nformat: \n  html:\n    embed-resources: true\n---\n\n\n\nIn my new data visualization class I found that I had not retained as much information from previous coding classes as I had wished. To remedy this I reviewed notes from my previous classes and found myself asking new questions about the data we used and how it was visualized. We had recently reviewed how to map data onto an actaul map and notes taken regarding nationalparks stood out to me. This data was collected in 2024 and had the names of the national parks in the united states, how many visitors they recieved, the area of the park and many more variables. I collected and tidied this data using the code from the previous course as it had only used to modify the data, not to make any new claims or interpretations.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\nlibrary(forcats)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ stringr   1.6.0\n✔ lubridate 1.9.4     ✔ tibble    3.3.1\n✔ purrr     1.2.1     ✔ tidyr     1.3.2\n✔ readr     2.1.6     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(rvest)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'rvest'\n\nThe following object is masked from 'package:readr':\n\n    guess_encoding\n```\n\n\n:::\n\n```{.r .cell-code}\nurl <- \"https://en.wikipedia.org/wiki/List_of_national_parks_of_the_United_States\"\n\n# scrape the table of national parks\nobjs <-\n  url %>%\n  read_html() %>%\n  html_nodes(\"table\") %>%\n  html_table()\n\nusa_parks <- objs[[1]]\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nusa_parks_cleaned <-\n  usa_parks %>%\n  # clean up the variable names\n  rename(\n    Created = 4,\n    Area = 5,\n    Visitors_2024 = 6\n  ) %>%\n  select(-2) %>%\n  separate_wider_delim(\n    cols = 4,\n    names = c(\"Area_acres\", \"Area_km2\"),\n    delim = \"(\"\n  ) %>%\n  # run a parse_number on area variables and visitors\n  mutate(\n    Area_acres = parse_number(Area_acres),\n    Area_km2 = parse_number(Area_km2),\n    Visitors_2024 = parse_number(Visitors_2024)\n         ) %>% \n  # convert Created into a <date> variable\n  mutate(\n    Created = str_remove(string = Created, pattern = \"\\\\[(.*)\"),  # get rid of footnotes, then...\n    Established = mdy(Created)\n    ) %>%\n  # clean up the names to remove the junk characters\n  mutate(\n    Name = str_replace_all(string = Name, pattern = \"[^A-Za-z]\", replacement = \" \") %>%\n      str_squish()\n  ) %>% \n  # extract the lat/lon values from Location variable\n  mutate(\n    lat = str_extract(Location, \"\\\\d{1,2}\\\\.\\\\d+(?=°N|°S)\"),\n    lon = str_extract(Location, \"-?\\\\d{1,3}\\\\.\\\\d+(?=°W|°E)\")\n    ) %>%\n  mutate(\n    lat = parse_number(lat),\n    lon = parse_number (lon)\n  )\n```\n:::\n\n\n\nAfter tidying the dataset we are able to see the variables more clearly and start thinking about what questions one might have regarding national parks. A question I immediately had was about how many people visited each park compared to one another. Humans are good at using length to quantify objects so it was clear that a geom_col was the best option for visualizing this. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = usa_parks_cleaned, aes(x = Name, y = Visitors_2024))+\n  geom_col()\n```\n\n::: {.cell-output-display}\n![](First_Blog_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n\nThere is a clear winner in terms of visitation, however, the graph is too crowded and we can't tell the name of the national park that recieved the most visitiors in 2024. To fix this issue I reduced the number of parks we will see on the graph and will use color to differential each park.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntop10_usa_parks <- usa_parks_cleaned |>\n  arrange(desc(Visitors_2024)) |>\n  slice(1:10)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = top10_usa_parks, aes(x = Name, y = Visitors_2024, fill = Name)) +\n  geom_col() \n```\n\n::: {.cell-output-display}\n![](First_Blog_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n\nAlthought this looks better, there is reduntant information and it is difficult to compare the attendance of the other national parks. To do this we need to reorder the variables based on visitors and not on the alphabetical order of the parks. This was done using a fct_reorder. In addition to this we can flip the axis to make the chart easier to read. Changing the labels also makes it easier to see the names of the variables. Finally, I changed some asthetics to make the graph more visually pleasing leaving the final graph below.  \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = top10_usa_parks, aes(y = forcats::fct_reorder(Name, Visitors_2024), Name, x = Visitors_2024, fill = Name))+\n  geom_col(show.legend = FALSE) +\n  theme_minimal() +\n  labs(title = \" National Park Attendance in 2024\",\n       x = \"Number of Visitors\",\n       y = \"Park\")\n```\n\n::: {.cell-output-display}\n![](First_Blog_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n\n\nWith this we can see which national parks received the most visitors in the year of 2024. We can also compare each park's attendance because of the nature of the bar chart. The new labels and color make it easier to distinguish between the parks as well.\n\n\n\n\n\n",
    "supporting": [
      "First_Blog_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}